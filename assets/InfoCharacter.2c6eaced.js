var A=Object.defineProperty,E=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var b=(a,r,t)=>r in a?A(a,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[r]=t,v=(a,r)=>{for(var t in r||(r={}))D.call(r,t)&&b(a,t,r[t]);if(x)for(var t of x(r))N.call(r,t)&&b(a,t,r[t]);return a},k=(a,r)=>E(a,H(r));import{r as c,j as e,J as P,q as o,B as h,s as $,K as q,M as F,H as G,T as s,v as m,N as J,S as K}from"./index.60fc590e.js";import{g as y,s as S}from"./localstprage.d379319f.js";import{B as M}from"./chakra-ui-button.esm.bcb8e104.js";import{I as O}from"./chakra-ui-image.esm.242cab78.js";const R=({character:a})=>{const r=y("favorites")||[],[t,n]=c.exports.useState(r),[W,l]=c.exports.useState(!1),{image:C,name:g,gender:L,status:i,location:{name:j},species:w,type:u,id:d,created:B}=a,I=f=>{if(y("favorites").includes(f)){l(!0);return}l(!0),n([...t,f])},T=f=>{l(!1);const p=t.filter(z=>z!=f);S("favorites",p),n(p)};return c.exports.useEffect(()=>{S("favorites",t)},[t]),c.exports.useEffect(()=>{t.includes(d)&&l(!0)},[]),e(P,{children:o(h,{textAlign:"left",maxW:"300px",children:[o(M,{as:$,to:"/characters",mb:"2",children:[e(q,{as:F,fontSize:"1rem",w:"8",h:"8"}),"back"]}),e(O,{src:C,alt:g,w:"300px",h:"300px",bg:"dark:black"}),e(G,{as:"h2",size:"lg",my:"4",children:g}),o(s,{as:"p",children:[e(s,{as:"span",fontWeight:"bold",children:"gender: "}),L]}),o(s,{as:"p",my:"4",children:[e(s,{as:"span",fontWeight:"bold",children:"location: "}),j]}),o(s,{as:"p",children:[" ",e(s,{as:"span",fontWeight:"bold",children:"species: "}),w]}),u&&o(s,{as:"p",mt:"4",children:[" ",e(s,{as:"span",fontWeight:"bold",children:"type: "}),u]}),o(s,{as:"p",my:"4",children:[" ",e(s,{as:"span",fontWeight:"bold",children:"id: "}),d]}),o(s,{as:"p",mb:"4",children:[" ",e(s,{as:"span",fontWeight:"bold",children:"created: "}),B]}),i==="unknown"?e(m,{children:i}):i==="Dead"?e(m,{colorScheme:"red",children:i}):i==="Alive"&&e(m,{colorScheme:"green",children:i}),e("br",{}),W?e(h,{p:"4",mt:4,bg:"red.500",d:"inline-flex",onClick:()=>T(d),children:"remove favorite"}):e(h,{p:"4",mt:4,bg:"green.600",d:"inline-flex",onClick:()=>I(d),children:"add favorite"})]})})},Z=()=>{const[a,r]=c.exports.useState({}),{id:t}=J();return c.exports.useEffect(()=>{r({loading:!0}),fetch(`https://rickandmortyapi.com/api/character/${t}`).then(n=>n.ok?n.json():Promise.reject(!0)).then(n=>{r(k(v({},a),{error:!1,loading:!1,character:n}))}).catch(n=>{r({error:!0,loading:!1})})},[]),o(h,{d:"flex",flexGrow:"1",flexDir:"column",align:"center",justifyContent:"center",maxW:"100%",overflow:"hidden",minH:"100%",children:[a.loading&&e(K,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"green.700",size:"xl",d:"inline-block",mx:"auto"}),a.error&&e("p",{children:"error try again"}),a.character&&e(R,{character:a.character})]})};export{Z as default};
